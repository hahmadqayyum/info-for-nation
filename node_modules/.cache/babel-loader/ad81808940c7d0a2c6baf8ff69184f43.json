{"ast":null,"code":"/*\n * Not sure if append* functions should automatically create a new object\n * or append an already existing object passed to it.\n */\n// x>0: static width\n// x<1: dynamic width, x is x-padding\n// y>0: static height\n// y<1: dynamic height, y is y-padding\nfunction Menu(name, x, y) {\n  this.name = name;\n  this.tabs = [];\n  this.buttons = []; // create DOM nodes\n\n  this.container = document.createElement(\"div\");\n  this.menu = document.createElement(\"div\");\n  this.menuBar = document.createElement(\"div\");\n  this.tabBar = document.createElement(\"div\");\n  this.content = document.createElement(\"div\"); // set classes/ids\n\n  this.container.setAttribute(\"class\", \"menuContainer\");\n  this.container.setAttribute(\"id\", this.name.replaceChars(\" \", \"\"));\n  this.menu.setAttribute(\"class\", \"menu\");\n  this.menuBar.setAttribute(\"class\", \"menuBar\");\n  this.tabBar.setAttribute(\"class\", \"tabBar\");\n  this.content.setAttribute(\"class\", \"menuContent\");\n  this.width = x > 0 ? x + \"px\" : \"100%\";\n  this.height = y > 0 ? y + \"px\" : \"100%\";\n\n  if (x < 1 || y < 1) {\n    this.container.style.padding = (y > 0 ? 0 : -y + \"px\") + \" \" + (x > 0 ? 0 : -x + \"px\");\n  }\n\n  this.menu.style.width = this.width;\n  this.menu.style.height = this.height; // append nodes\n\n  this.menuBar.appendChild(this.tabBar);\n  this.menu.appendChild(this.menuBar);\n  this.menu.appendChild(this.content);\n  this.container.appendChild(this.menu);\n  document.body.appendChild(this.container);\n}\n\n_c = Menu;\n\nfunction Tab(name) {\n  this.name = name;\n  this.categories = [];\n  this.node = document.createElement(\"div\");\n  this.node.setAttribute(\"class\", \"tab\");\n  this.node.appendChild(document.createTextNode(name));\n  this.content = document.createElement(\"div\");\n  this.content.setAttribute(\"class\", \"tabContent\");\n}\n\n_c2 = Tab;\n\nMenu.prototype.appendTab = function (name) {\n  const tab = new Tab(name);\n  this.tabs.push(tab);\n  this.tabBar.appendChild(tab.node);\n  this.content.appendChild(tab.content);\n  return tab;\n};\n\nTab.prototype.show = function () {\n  this.content.style.display = \"initial\";\n};\n\nTab.prototype.hide = function () {\n  this.content.style.display = \"none\";\n};\n\nMenu.prototype.makeTabActive = function (tabIndex) {\n  for (let i = 0; i < this.tabs.length; i++) {\n    if (i === tabIndex) {\n      this.tabs[i].show();\n      this.tabs[i].node.setAttribute(\"id\", \"activeTab\");\n    } else {\n      this.tabs[i].hide();\n      this.tabs[i].node.removeAttribute(\"id\");\n    }\n  }\n};\n\nfunction Category(name, hasHeading, parentTab) {\n  this.name = name;\n  this.hasHeading = hasHeading;\n  this.parentTab = parentTab;\n  this.options = [];\n  this.element = document.createElement(\"div\");\n  this.element.setAttribute(\"id\", name.replaceChars(\" \", \"\"));\n  this.element.setAttribute(\"class\", \"category\");\n\n  if (this.hasHeading) {\n    this.headingElem = document.createElement(\"div\");\n    this.headingElem.setAttribute(\"class\", \"categoryHeading\");\n    this.headingElem.appendChild(document.createTextNode(this.hasHeading));\n    this.element.appendChild(this.headingElem);\n  }\n} // type == 0: normal, else: toggle\n// hasHeading: boolean\n\n\n_c3 = Category;\n\nTab.prototype.appendCategory = function (name, hasHeading) {\n  const category = new Category(name, hasHeading, this);\n  this.content.appendChild(category.element);\n  this.categories.push(category);\n  return category;\n};\n\nMenu.prototype.kill = function () {\n  document.body.removeChild(this.container);\n};\n\nMenu.prototype.appendButton = function (name) {\n  const button = document.createElement(\"div\");\n  this.buttons.push(button);\n  button.setAttribute(\"class\", \"menu-button\");\n  button.setAttribute(\"id\", name);\n  button.setAttribute(\"title\", name);\n  this.menuBar.appendChild(button);\n  this.tabBar.style.width = \"calc(100% - \" + 40 * this.buttons.length + \"px\";\n  return button;\n}; // arrays of button names and their descriptions\n// returns array of button elements\n\n\nMenu.prototype.split = function (name, description) {\n  const buttondiv = [];\n  const nametable = [];\n  const namecell = [];\n  const descriptiondiv = [];\n\n  for (let i = 0; i < name.length; i++) {\n    buttondiv[i] = document.createElement(\"div\");\n    buttondiv[i].setAttribute(\"class\", \"splitbutton\");\n    nametable[i] = document.createElement(\"div\");\n    nametable[i].setAttribute(\"class\", \"splitbutton_nametable\");\n    namecell[i] = document.createElement(\"div\");\n    namecell[i].setAttribute(\"class\", \"splitbutton_namecell\");\n    descriptiondiv[i] = document.createElement(\"div\");\n    descriptiondiv[i].setAttribute(\"class\", \"splitbutton_description\");\n    namecell[i].appendChild(document.createTextNode(name[i]));\n    descriptiondiv[i].appendChild(document.createTextNode(description[i]));\n    nametable[i].appendChild(namecell[i]);\n    buttondiv[i].appendChild(nametable[i]);\n    buttondiv[i].appendChild(descriptiondiv[i]);\n    this.content.appendChild(buttondiv[i]);\n  }\n\n  return buttondiv;\n}; // type == 0: checkbox, else: text\n// value: HTML element value\n\n\nCategory.prototype.appendOption = function (name, key, type, value) {\n  const option = document.createElement(\"div\");\n  const label = document.createElement(\"label\");\n  const text = document.createTextNode(name);\n  const input = document.createElement(\"input\"); // add to category option list\n\n  this.options.push(option);\n  input.setAttribute(\"name\", key);\n  label.appendChild(text);\n\n  if (type === 0) {\n    option.setAttribute(\"class\", \"option radioOption\");\n    input.setAttribute(\"type\", \"checkbox\");\n    input.checked = value;\n    option.appendChild(input);\n    option.appendChild(label);\n  } else {\n    option.setAttribute(\"class\", \"option\");\n    input.setAttribute(\"type\", \"text\");\n    input.setAttribute(\"value\", value);\n    option.appendChild(label);\n    option.appendChild(input);\n  }\n\n  this.element.appendChild(option);\n  return option;\n};\n\nfunction ConfigSquareDiv(name, parentCategory) {\n  this.name = name;\n  this.parentCategory = parentCategory;\n  this.urls = [];\n  this.node = document.createElement(\"div\");\n}\n\n_c4 = ConfigSquareDiv;\n\nCategory.prototype.appendSquareDiv = function (name) {\n  const div = new ConfigSquareDiv(name, this);\n  this.element.appendChild(div.node);\n  this.options.push(div);\n  return div;\n};\n\nfunction TextField(name, key, cssClass, value, amount, parentObject, index) {\n  this.name = name;\n  this.key = key;\n  this.cssClass = cssClass;\n  this.value = value;\n  this.amount = amount;\n  this.parentObject = parentObject;\n  this.index = index;\n  this.node = document.createElement(\"div\");\n  this.node.setAttribute(\"class\", cssClass);\n\n  if (amount > 0) {\n    this.removeNode = document.createElement(\"img\");\n    this.removeNode.setAttribute(\"src\", \"img/remove.png\");\n    this.node.appendChild(this.removeNode);\n  } else if (cssClass == \"squareHeading_addS\") {\n    this.addNode = document.createElement(\"img\");\n    this.addNode.setAttribute(\"src\", \"img/addS.png\");\n    this.node.appendChild(this.addNode);\n  } else {\n    this.addNode = document.createElement(\"img\");\n    this.addNode.setAttribute(\"src\", \"img/add.png\");\n    this.node.appendChild(this.addNode);\n  }\n\n  if (typeof key !== 'object') {\n    key = [key];\n  }\n\n  if (typeof value !== 'object') {\n    value = [value];\n  }\n\n  for (let i = 0; i < amount; i++) {\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"name\", key[i]);\n    input.setAttribute(\"value\", value[i]);\n    this.node.appendChild(input);\n  }\n}\n\n_c5 = TextField;\n\nTextField.prototype.addEvent = function () {\n  this.addNode.addEventListener(\"click\", () => {\n    if (this.cssClass == \"squareURL\") {\n      let parentElement = this.node.parentElement;\n      parentElement.removeChild(this.node);\n      this.parentObject.appendTextField(\"link\" + this.index, [this.index, \"url\"], \"squareURL\", [\"name\", \"url\"], 2);\n      parentElement.appendChild(this.node);\n    } else if (this.cssClass == \"squareOption\") {\n      let parentElement = this.node.parentElement;\n      parentElement.removeChild(this.node);\n      this.parentObject.appendTextField(\"option\" + this.index, [\"opt\", \"url\", \"space\"], \"squareOption\", [\"option\", \"url\", \"space\"], 3, this.index);\n      parentElement.appendChild(this.node);\n    } else if (this.cssClass == \"squareHeading\") {\n      // new square\n      const addObject = this.parentObject.parentCategory.options.pop();\n      this.parentObject.parentCategory.element.removeChild(addObject.node); // insert before search square if one exists\n\n      let searchObject = this.parentObject.parentCategory.options[this.parentObject.parentCategory.options.length - 1];\n\n      if (searchObject.urls[1].className == \"squareOption\") {\n        searchObject = this.parentObject.parentCategory.options.pop();\n        this.parentObject.parentCategory.element.removeChild(searchObject.node);\n      }\n\n      const sqr = this.parentObject.parentCategory.appendSquareDiv(\"new square\");\n      sqr.appendTextField(\"heading\" + this.index, this.index, \"squareHeading\", \"new square\", 1, this.index, this.parentObject.parentCategory);\n      sqr.appendTextField(\"link\" + this.index, [this.index, \"url\"], \"squareURL\", [\"name\", \"url\"], 2);\n      sqr.appendTextField(\"link\" + this.index, undefined, \"squareURL\", undefined, 0, this.index);\n\n      if (searchObject.urls[1].className == \"squareOption\") {\n        this.parentObject.parentCategory.element.appendChild(searchObject.node);\n        this.parentObject.parentCategory.options.push(searchObject);\n      }\n\n      this.parentObject.parentCategory.element.appendChild(addObject.node);\n      this.parentObject.parentCategory.options.push(addObject);\n    } else {\n      // new search square\n      let searchObject = this.parentObject.parentCategory.options[this.parentObject.parentCategory.options.length - 2];\n\n      if (searchObject.urls[1].className != \"squareOption\") {\n        const addObject = this.parentObject.parentCategory.options.pop();\n        this.parentObject.parentCategory.element.removeChild(addObject.node);\n        const sqr = this.parentObject.parentCategory.appendSquareDiv(\"new search square\");\n        sqr.appendTextField(\"heading\" + this.index, [this.index, \"prefix\"], \"squareHeading\", [\"new search square\", \"-\"], 2, this.index, this.parentObject.parentCategory);\n        sqr.appendTextField(\"option\" + this.index, [\"opt\", \"url\", \"space\"], \"squareOption\", [\"default\", \"url\", \"+\"], 3);\n        sqr.appendTextField(\"link\" + this.index, undefined, \"squareOption\", undefined, 0, this.index);\n        this.parentObject.parentCategory.element.appendChild(this.parentObject.node);\n        this.parentObject.parentCategory.options.push(addObject);\n      } else {\n        alert(\"A search square already exists!\");\n      }\n    }\n  });\n};\n\nTextField.prototype.removeEvent = function () {\n  this.removeNode.addEventListener(\"click\", () => {\n    if (this.cssClass == \"squareURL\" || this.cssClass == \"squareOption\") {\n      this.node.parentElement.removeChild(this.node);\n      const index = this.parentObject.urls.indexOf(this.node);\n\n      if (index > -1) {\n        this.parentObject.urls.splice(index, 1);\n      }\n    } else {\n      const index = this.parentObject.parentCategory.options.indexOf(this.parentObject);\n\n      if (index > -1) {\n        this.parentObject.parentCategory.options.splice(index, 1);\n      }\n\n      this.node.parentElement.parentElement.removeChild(this.node.parentElement);\n    }\n  });\n};\n\nConfigSquareDiv.prototype.appendTextField = function (name, key, cssClass, value, amount, index) {\n  const textfield = new TextField(name, key, cssClass, value, amount, this, index);\n  this.node.appendChild(textfield.node);\n\n  if (amount > 0) {\n    textfield.removeEvent();\n    this.urls.push(textfield.node);\n  } else {\n    textfield.addEvent();\n  }\n\n  return textfield;\n};\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Menu\");\n$RefreshReg$(_c2, \"Tab\");\n$RefreshReg$(_c3, \"Category\");\n$RefreshReg$(_c4, \"ConfigSquareDiv\");\n$RefreshReg$(_c5, \"TextField\");","map":{"version":3,"sources":["/home/ahmadqayyum/Desktop/info-for-nation/src/home/src/js/menu.js"],"names":["Menu","name","x","y","tabs","buttons","container","document","createElement","menu","menuBar","tabBar","content","setAttribute","replaceChars","width","height","style","padding","appendChild","body","Tab","categories","node","createTextNode","prototype","appendTab","tab","push","show","display","hide","makeTabActive","tabIndex","i","length","removeAttribute","Category","hasHeading","parentTab","options","element","headingElem","appendCategory","category","kill","removeChild","appendButton","button","split","description","buttondiv","nametable","namecell","descriptiondiv","appendOption","key","type","value","option","label","text","input","checked","ConfigSquareDiv","parentCategory","urls","appendSquareDiv","div","TextField","cssClass","amount","parentObject","index","removeNode","addNode","addEvent","addEventListener","parentElement","appendTextField","addObject","pop","searchObject","className","sqr","undefined","alert","removeEvent","indexOf","splice","textfield"],"mappings":"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","sourcesContent":["/*\n * Not sure if append* functions should automatically create a new object\n * or append an already existing object passed to it.\n */\n\n// x>0: static width\n// x<1: dynamic width, x is x-padding\n// y>0: static height\n// y<1: dynamic height, y is y-padding\nfunction Menu(name, x, y) {\n  this.name = name;\n  this.tabs = [];\n  this.buttons = [];\n\n  // create DOM nodes\n  this.container = document.createElement(\"div\");\n  this.menu = document.createElement(\"div\");\n  this.menuBar = document.createElement(\"div\");\n  this.tabBar = document.createElement(\"div\");\n  this.content = document.createElement(\"div\");\n\n  // set classes/ids\n  this.container.setAttribute(\"class\", \"menuContainer\");\n  this.container.setAttribute(\"id\", this.name.replaceChars(\" \", \"\"));\n  this.menu.setAttribute(\"class\", \"menu\");\n  this.menuBar.setAttribute(\"class\", \"menuBar\");\n  this.tabBar.setAttribute(\"class\", \"tabBar\");\n  this.content.setAttribute(\"class\", \"menuContent\");\n\n  this.width = x > 0 ? x + \"px\" : \"100%\";\n  this.height = y > 0 ? y + \"px\" : \"100%\";\n  if(x < 1 || y < 1) {\n    this.container.style.padding =\n    (y > 0 ? 0 : -y + \"px\") + \" \" + (x > 0 ? 0 : -x + \"px\")\n  }\n  this.menu.style.width = this.width;\n  this.menu.style.height = this.height;\n\n  // append nodes\n  this.menuBar.appendChild(this.tabBar);\n  this.menu.appendChild(this.menuBar);\n  this.menu.appendChild(this.content);\n\n  this.container.appendChild(this.menu);\n  document.body.appendChild(this.container);\n}\n\n\nfunction Tab(name) {\n  this.name = name;\n  this.categories = [];\n\n  this.node = document.createElement(\"div\");\n  this.node.setAttribute(\"class\", \"tab\");\n  this.node.appendChild(document.createTextNode(name));\n\n  this.content = document.createElement(\"div\");\n\n  this.content.setAttribute(\"class\", \"tabContent\");\n}\n\nMenu.prototype.appendTab = function(name) {\n  const tab = new Tab(name);\n  this.tabs.push(tab);\n\n  this.tabBar.appendChild(tab.node);\n  this.content.appendChild(tab.content);\n\n  return tab;\n};\n\nTab.prototype.show = function() {\n  this.content.style.display = \"initial\";\n};\nTab.prototype.hide = function() {\n  this.content.style.display = \"none\";\n};\nMenu.prototype.makeTabActive = function(tabIndex) {\n  for(let i = 0; i < this.tabs.length; i++) {\n    if(i === tabIndex) {\n      this.tabs[i].show();\n      this.tabs[i].node.setAttribute(\"id\", \"activeTab\");\n    } else {\n      this.tabs[i].hide();\n      this.tabs[i].node.removeAttribute(\"id\");\n    }\n  }\n};\n\n\nfunction Category(name, hasHeading, parentTab) {\n  this.name = name;\n  this.hasHeading = hasHeading;\n  this.parentTab = parentTab;\n  this.options = [];\n\n  this.element = document.createElement(\"div\");\n  this.element.setAttribute(\"id\", name.replaceChars(\" \", \"\"));\n  this.element.setAttribute(\"class\", \"category\");\n\n  if(this.hasHeading) {\n    this.headingElem = document.createElement(\"div\");\n    this.headingElem.setAttribute(\"class\", \"categoryHeading\");\n    this.headingElem.appendChild(document.createTextNode(this.hasHeading));\n    this.element.appendChild(this.headingElem);\n  }\n}\n\n// type == 0: normal, else: toggle\n// hasHeading: boolean\nTab.prototype.appendCategory = function(name, hasHeading) {\n  const category = new Category(name, hasHeading, this);\n\n  this.content.appendChild(category.element);\n  this.categories.push(category);\n\n  return category;\n};\n\n\n\nMenu.prototype.kill = function() {\n  document.body.removeChild(this.container);\n};\n\nMenu.prototype.appendButton = function(name) {\n  const button = document.createElement(\"div\");\n  this.buttons.push(button);\n  button.setAttribute(\"class\", \"menu-button\");\n  button.setAttribute(\"id\", name);\n  button.setAttribute(\"title\", name);\n\n  this.menuBar.appendChild(button);\n\n  this.tabBar.style.width = \"calc(100% - \" + 40 * this.buttons.length + \"px\";\n\n  return button;\n};\n\n// arrays of button names and their descriptions\n// returns array of button elements\nMenu.prototype.split = function(name, description) {\n  const buttondiv = [];\n  const nametable = [];\n  const namecell = [];\n  const descriptiondiv = [];\n\n  for(let i = 0; i < name.length; i++) {\n    buttondiv[i] = document.createElement(\"div\");\n    buttondiv[i].setAttribute(\"class\", \"splitbutton\");\n\n    nametable[i] = document.createElement(\"div\");\n    nametable[i].setAttribute(\"class\", \"splitbutton_nametable\");\n\n    namecell[i] = document.createElement(\"div\");\n    namecell[i].setAttribute(\"class\", \"splitbutton_namecell\");\n\n    descriptiondiv[i] = document.createElement(\"div\");\n    descriptiondiv[i].setAttribute(\"class\", \"splitbutton_description\");\n\n    namecell[i].appendChild(document.createTextNode(name[i]));\n    descriptiondiv[i].appendChild(document.createTextNode(description[i]));\n\n    nametable[i].appendChild(namecell[i]);\n\n    buttondiv[i].appendChild(nametable[i]);\n    buttondiv[i].appendChild(descriptiondiv[i]);\n\n    this.content.appendChild(buttondiv[i]);\n  }\n\n  return buttondiv;\n};\n\n\n// type == 0: checkbox, else: text\n// value: HTML element value\nCategory.prototype.appendOption = function(name, key, type, value) {\n  const option = document.createElement(\"div\");\n  const label = document.createElement(\"label\");\n  const text = document.createTextNode(name);\n  const input = document.createElement(\"input\");\n\n  // add to category option list\n  this.options.push(option);\n\n  input.setAttribute(\"name\", key);\n\n  label.appendChild(text);\n  if(type === 0) {\n    option.setAttribute(\"class\", \"option radioOption\");\n    input.setAttribute(\"type\", \"checkbox\");\n    input.checked = value;\n    option.appendChild(input);\n    option.appendChild(label);\n  } else {\n    option.setAttribute(\"class\", \"option\");\n    input.setAttribute(\"type\", \"text\");\n    input.setAttribute(\"value\", value);\n    option.appendChild(label);\n    option.appendChild(input);\n  }\n  this.element.appendChild(option);\n\n  return option;\n};\n\n\nfunction ConfigSquareDiv(name, parentCategory) {\n  this.name = name;\n  this.parentCategory = parentCategory;\n  this.urls = [];\n\n  this.node = document.createElement(\"div\");\n}\n\n\nCategory.prototype.appendSquareDiv = function(name) {\n  const div = new ConfigSquareDiv(name, this);\n\n  this.element.appendChild(div.node);\n  this.options.push(div);\n  return div;\n};\n\nfunction TextField(name, key, cssClass, value, amount, parentObject, index) {\n  this.name = name;\n  this.key = key;\n  this.cssClass = cssClass;\n  this.value = value;\n  this.amount = amount;\n  this.parentObject = parentObject;\n  this.index = index;\n\n  this.node = document.createElement(\"div\");\n  this.node.setAttribute(\"class\", cssClass);\n\n  if(amount > 0) {\n    this.removeNode = document.createElement(\"img\");\n    this.removeNode.setAttribute(\"src\", \"img/remove.png\");\n    this.node.appendChild(this.removeNode);\n  } else if(cssClass == \"squareHeading_addS\") {\n    this.addNode = document.createElement(\"img\");\n    this.addNode.setAttribute(\"src\", \"img/addS.png\");\n    this.node.appendChild(this.addNode);\n  } else {\n    this.addNode = document.createElement(\"img\");\n    this.addNode.setAttribute(\"src\", \"img/add.png\");\n    this.node.appendChild(this.addNode);\n  }\n\n  if(typeof key !== 'object') {\n    key = [key];\n  }\n  if(typeof value !== 'object') {\n    value = [value];\n  }\n  for(let i = 0; i < amount; i++) {\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"name\", key[i]);\n    input.setAttribute(\"value\", value[i]);\n    this.node.appendChild(input);\n  }\n}\n\nTextField.prototype.addEvent = function() {\n  this.addNode.addEventListener(\"click\", () => {\n    if(this.cssClass == \"squareURL\") {\n      let parentElement = this.node.parentElement;\n      parentElement.removeChild(this.node);\n      this.parentObject.appendTextField(\"link\" + this.index,\n                                        [this.index, \"url\"], \"squareURL\",\n                                        [\"name\", \"url\"], 2);\n      parentElement.appendChild(this.node);\n    } else if(this.cssClass == \"squareOption\") {\n      let parentElement = this.node.parentElement;\n      parentElement.removeChild(this.node);\n      this.parentObject.appendTextField(\"option\" + this.index,\n                                        [\"opt\", \"url\", \"space\"],\n                                        \"squareOption\",\n                                        [\"option\", \"url\", \"space\"], 3,\n                                        this.index);\n      parentElement.appendChild(this.node);\n    } else if(this.cssClass == \"squareHeading\") {\n      // new square\n      const addObject = this.parentObject.parentCategory.options.pop();\n      this.parentObject.parentCategory.element.removeChild(addObject.node);\n      // insert before search square if one exists\n      let searchObject = this.parentObject.parentCategory.options[\n          this.parentObject.parentCategory.options.length-1];\n      if(searchObject.urls[1].className == \"squareOption\") {\n        searchObject = this.parentObject.parentCategory.options.pop();\n        this.parentObject.parentCategory.element\n                                        .removeChild(searchObject.node);\n      }\n      const sqr = this.parentObject.parentCategory\n                                   .appendSquareDiv(\"new square\");\n      sqr.appendTextField(\"heading\" + this.index, this.index, \"squareHeading\",\n                          \"new square\", 1, this.index,\n                          this.parentObject.parentCategory);\n      sqr.appendTextField(\"link\" + this.index, [this.index, \"url\"],\n                          \"squareURL\", [\"name\", \"url\"], 2);\n      sqr.appendTextField(\"link\" + this.index, undefined,\"squareURL\",\n                          undefined, 0, this.index);\n      if(searchObject.urls[1].className == \"squareOption\") {\n        this.parentObject.parentCategory.element\n                         .appendChild(searchObject.node);\n        this.parentObject.parentCategory.options.push(searchObject);\n      }\n      this.parentObject.parentCategory.element.appendChild(addObject.node);\n      this.parentObject.parentCategory.options.push(addObject);\n    } else {\n      // new search square\n      let searchObject = this.parentObject.parentCategory.options[\n          this.parentObject.parentCategory.options.length-2];\n      if(searchObject.urls[1].className != \"squareOption\") {\n        const addObject = this.parentObject.parentCategory.options.pop();\n        this.parentObject.parentCategory.element.removeChild(addObject.node);\n        const sqr = this.parentObject.parentCategory\n                                     .appendSquareDiv(\"new search square\");\n        sqr.appendTextField(\"heading\" + this.index, [this.index, \"prefix\"],\n                            \"squareHeading\", [\"new search square\", \"-\"], 2,\n                            this.index, this.parentObject.parentCategory);\n        sqr.appendTextField(\"option\" + this.index, [\"opt\", \"url\", \"space\"],\n                            \"squareOption\", [\"default\", \"url\", \"+\"], 3);\n        sqr.appendTextField(\"link\" + this.index, undefined,\"squareOption\",\n                            undefined, 0, this.index);\n        this.parentObject.parentCategory.element\n                                        .appendChild(this.parentObject.node);\n        this.parentObject.parentCategory.options.push(addObject);\n      } else {\n        alert(\"A search square already exists!\");\n      }\n    }\n  });\n};\n\nTextField.prototype.removeEvent = function() {\n  this.removeNode.addEventListener(\"click\", () => {\n    if(this.cssClass == \"squareURL\" || this.cssClass == \"squareOption\") {\n      this.node.parentElement.removeChild(this.node);\n      const index = this.parentObject.urls.indexOf(this.node);\n      if(index > -1) {\n        this.parentObject.urls.splice(index, 1);\n      }\n    } else {\n      const index = this.parentObject.parentCategory.options\n                        .indexOf(this.parentObject);\n      if(index > -1) {\n        this.parentObject.parentCategory.options.splice(index, 1);\n      }\n      this.node.parentElement.parentElement\n          .removeChild(this.node.parentElement);\n    }\n  });\n};\n\nConfigSquareDiv.prototype.appendTextField = function(name, key, cssClass, value,\n                                                     amount, index) {\n  const textfield = new TextField(name, key, cssClass, value, amount, this,\n                                  index);\n\n  this.node.appendChild(textfield.node);\n\n  if(amount > 0) {\n    textfield.removeEvent();\n    this.urls.push(textfield.node);\n  } else {\n    textfield.addEvent();\n  }\n\n  return textfield;\n};\n\n"]},"metadata":{},"sourceType":"module"}